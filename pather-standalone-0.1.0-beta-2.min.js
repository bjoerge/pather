(function(t){if("function"==typeof bootstrap)bootstrap("pather",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makePather=t}else"undefined"!=typeof window?window.Pather=t():global.Pather=t()})(function(){return function(t,e,r){function n(r,i){if(!e[r]){if(!t[r]){var o="function"==typeof require&&require;if(!i&&o)return o(r,!0);if(a)return a(r,!0);throw Error("Cannot find module '"+r+"'")}var s=e[r]={exports:{}};t[r][0].call(s.exports,function(e){var a=t[r][1][e];return n(a?a:e)},s,s.exports)}return e[r].exports}for(var a="function"==typeof require&&require,i=0;r.length>i;i++)n(r[i]);return n}({1:[function(t,e){(function(){"use strict";function r(t,e,n){return this instanceof r?(this.route=t,n===void 0?(this.event="enter",this.eventHandler=e):(this.event=e,this.eventHandler=n),this.routePattern=t instanceof RegExp?new s.RegExpPattern(t):new s.fromString(t),this.once=!1,this.active=!1,this.previousMatch=null,void 0):new r(t,e,n)}function n(t){return this instanceof n?(this.options=t||(t={}),this.listeners=[],t.hasOwnProperty("pushState")||t.pushState===!1||a("popstate",this.checkAll.bind(this)),t.hasOwnProperty("hash")||t.hash===!1||a("hashchange",this.checkAll.bind(this)),void 0):new n(t)}var a=function(t,e,r){return a=window[window.addEventListener?"addEventListener":"attachEvent"].bind(window),a(t,e,r)},i=t("sigmund"),o=function(t,e){return i(t)==i(e)},s=t("route-pattern");n.prototype._normalizeRoute=function(t){var e=(this.options.root||"").replace(/\/?$/,"/?");return t.replace(RegExp("^"+e),"/")},n.prototype.addListener=function(t,e,n){t instanceof RegExp||(t=this._normalizeRoute(t)),this._add(new r(t,e,n))},n.prototype.on=function(t,e,r){this.addListener.call(this,t,e,r)},n.prototype.once=function(t,e,n){var a=new r(t,e,n);a.once=!0,this._add(a)},n.prototype.removeListener=function(t,e,r){r===void 0&&(r=e,e="enter"),this._remove(this._find(t,e,r))},n.prototype.removeAllListeners=function(){this.listeners=[]},n.prototype.matches=function(t){return!!this.match(t)},n.prototype.match=function(t){var e=this._getPath();if(t instanceof RegExp){var r=t.exec(e);return r?r.slice(1):null}return s.fromString(t).match(this._getPath())},n.prototype.has=function(t){return this.listeners.some(function(e){return e.routePattern.matches(t)},this)},n.prototype._add=function(t){this.listeners.push(t),this._check(t)},n.prototype._remove=function(t){var e=this.listeners.indexOf(t);return-1===e?!1:(this.listeners.splice(e,1),!0)},n.prototype._find=function(t,e,r){for(var n=this.listeners.length;n--;){var a=this.listeners[n];if(t===a.route&&e===a.event&&r===a.eventHandler)return a}return null},n.prototype._getPath=function(){var t,e=window.location;return t=window.history.emulate&&e.hash&&"/"==e.hash.charAt(1)?e.hash.substring(1):e.pathname+e.search+e.hash,this._normalizeRoute(t||"/")},n.prototype._emit=function(t,e){t.eventHandler.apply(t,[e].concat(e.params)),t.once&&this._remove(t)},n.prototype._check=function(t){var e=this._getPath(),r=t.routePattern.match(e);"leave"===t.event&&t.active&&!o(t.previousMatch,r)&&this._emit(t,t.previousMatch),!r||"enter"!=t.event||t.active&&o(t.previousMatch,r)||this._emit(t,r),t.previousMatch=r,t.active=!!r},n.prototype.checkAll=function(){for(var t=this.listeners.length;t--;)this._check(this.listeners[t])},n.prototype.navigate=function(t,e){return window.history[e?"replaceState":"pushState"]({},null,t),this.checkAll(),!0},e.exports=n})(this,window)},{sigmund:2,"route-pattern":3}],2:[function(t,e){function r(t,e){function r(t,o){return o>e||"function"==typeof t||void 0===t?void 0:"object"!=typeof t||!t||t instanceof i?(a+=t,void 0):(-1===n.indexOf(t)&&o!==e&&(n.push(t),a+="{",Object.keys(t).forEach(function(e){if("_"!==e.charAt(0)){var n=typeof t[e];"function"!==n&&"undefined"!==n&&(a+=e,r(t[e],o+1))}})),void 0)}e=e||10;var n=[],a="",i=RegExp;return r(t,0),a}e.exports=r},{}],3:[function(t,e){function r(){return[].slice.call(arguments).reduce(function(t,e){for(var r in e)t[r]=e[r];return t},{})}function n(t){return t.split("&").reduce(function(t,e){var r=e.split("="),n=decodeURIComponent(r[0]),a=decodeURIComponent(r[1]||"");return t[n]=a,t},{})}function a(t){var e=/([^\?#]*)?(\?[^#]*)?(#.*)?$/,r=e.exec(t);return{path:r[1]||"",queryString:r[2]&&r[2].substring(1)||"",hash:r[3]&&r[3].substring(1)||""}}var i=function(){function t(t){this.params=t.params,this.allowWildcards=t.allowWildcards,this.routeString=t.routeString}return t.prototype.matches=function(t){for(var e,r=(t||"").split("&").reduce(function(t,e){var r=e.split("="),n=r[0],a=r[1];return n&&(t[n]=a),t},{}),n=[].concat(this.params);e=n.shift();){if(!r.hasOwnProperty(e.key))return!1;if(e.value&&r[e.key]!=e.value)return!1}return!this.allowWildcards&&this.params.length&&Object.getOwnPropertyNames(r).length>this.params.length?!1:!0},t.prototype.match=function(t){if(!this.matches(t))return null;var e={params:[],namedParams:{},namedQueryParams:{},queryParams:{}};if(!t)return e;var r=this.params.reduce(function(t,e){return t[e.key]=e.name,t},{});return t.split("&").forEach(function(t){var n=t.split("="),a=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]||"");e.queryParams[a]=i,e.params.push(i),r[a]&&(e.namedQueryParams[r[a]]=e.namedParams[r[a]]=i)}),e},t.fromString=function(e){var r={routeString:e,allowWildcards:!1,params:[]};return e.split("&").forEach(function(t){if(t){var e=t.split("="),n=e[0],a=e[1]||"",i=!1,o={key:n};":"==a.charAt(0)?o.name=a.substring(1):"*"==n&&""==a?i=r.allowWildcards=!0:o.value=a,i||r.params.push(o)}}),new t(r)},t}(),o=function(){function t(t){this.regexp=t.regexp,this.params=t.params,this.routeString=t.routeString}var e=/:\w+/g,r=/\*\w+/g,n=/(:[^\/\.]+)|(\*\w+)/g,a=/\*/g,i=/[-[\]{}()+?.,\\^$|#\s]/g;return t.prototype.matches=function(t){return this.regexp.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var e={params:[],namedParams:{}};return(this.regexp.exec(t)||[]).slice(1).forEach(function(t,r){t=decodeURIComponent(t),e.namedParams[this.params[r]]=t,e.params.push(t)},this),e},t.routePathToRegexp=function(t){return t=t.replace(i,"\\$&").replace(e,"([^/]+)").replace(r,"(.*)?").replace(a,".*?").replace(/\/?$/,"/?"),RegExp("^/?"+t+"$")},t.fromString=function(e){e=e.split(/\?|#/)[0];var r={routeString:e,regexp:t.routePathToRegexp(e),params:(e.match(n)||[]).map(function(t){return t.substring(1)})};return new t(r)},t}(),s=function(){function t(t){this.regex=t}return t.prototype.matches=function(t){return this.regex.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var e=a(t),r=n(e.queryString);return{params:this.regex.exec(t).slice(1),namedParams:{},queryParams:r}},t}(),u=function(){function t(t){this.pathPattern=t.pathPattern,this.queryStringPattern=t.queryStringPattern,this.hashPattern=t.hashPattern,this.routeString=t.routeString}return t.prototype.matches=function(t){var e=a(t);return!(this.pathPattern&&!this.pathPattern.matches(e.path)||this.queryStringPattern&&!this.queryStringPattern.matches(e.queryString)||this.hashPattern&&!this.hashPattern.matches(e.hash))},t.prototype.match=function(t){if(!this.matches(t))return null;var e,n,i=a(t),o={params:[],namedParams:{},pathParams:{},queryParams:{},namedQueryParams:{},hashParams:{}},s=function(t){o.params=o.params.concat(t.params),o.namedParams=r(o.namedParams,t.namedParams)};return(n=this.pathPattern)&&(e=n.match(i.path),e&&s(e),o.pathParams=e?e.namedParams:{}),(n=this.queryStringPattern)&&(e=n.match(i.queryString),e&&s(e),o.queryParams=e?e.queryParams:{},o.namedQueryParams=e?e.namedQueryParams:{}),(n=this.hashPattern)&&(e=n.match(i.hash),e&&s(e),o.hashParams=e?e.namedParams:{}),o},t.fromString=function(e){var r=a(e),n=r.path,s=r.queryString||e.indexOf("?")>-1,u=r.hash||e.indexOf("#")>-1;return new t({pathPattern:n&&o.fromString(r.path),queryStringPattern:s&&i.fromString(r.queryString),hashPattern:u&&o.fromString(r.hash),routeString:e})},t}();e.exports=u,u.QueryStringPattern=i,u.PathPattern=o,u.RegExpPattern=s},{}]},{},[1])(1)});